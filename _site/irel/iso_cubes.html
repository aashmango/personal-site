<html>
<head>
	<title>Iso Cubes</title>
	<style>
	body { margin: 0; 
		background-color: none;}

		#poo {
			position: absolute;
			color: white;
			background-color: none;
			width: 200px;
			height: 50px;
			text-align: left;
			font-family: arial;
			margin-left: 20px;
			margin-top: 20px;
		}
		
		canvas { width: 100%; height: 100% }
		</style>
	</head>

	<body>

		<div id = "poo"> Click to expedite rotation </div>

		<script src="js/three.min.js"></script>

		<script src="js/controls/OrbitControls.js"></script>

		<script src="js/controls/DeviceOrientationControls.js"></script>





		<script>

		var camera, controls, scene, renderer;
		

		init();
		animate();
		

		function init() {

			// document.body.innerHTML = "Click to expedite rotation" ;

			scene = new THREE.Scene();


			camera = new THREE.OrthographicCamera( window.innerWidth/-4.0, window.innerWidth/4, window.innerHeight/-4,window.innerHeight/4 );

			// camera = new THREE.PerspectiveCamera( 85, window.innerWidth / window.innerHeight, 1, 8000 );

			camera.position.x = -100;
			camera.position.y = 0;
			camera.position.z = 0;
			camera.lookAt( scene.position );



			

			renderer = new THREE.WebGLRenderer();
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );
			renderer.setClearColor( 0x000000 );


			for ( var i = 0; i < 10; i ++ ) {

				for ( var u = 0; u < 10; u ++ ) {

					for ( var d = 0; d < 10; d ++ ) {


						fixed = 20;


						var geometry = new THREE.BoxGeometry( fixed, fixed, fixed);


						geometry.faces[ 1 ].color.setHex( 0x101010 );
						geometry.faces[ 2 ].color.setHex( 0x202020 );
						geometry.faces[ 3 ].color.setHex( 0x303030 );
						geometry.faces[ 4 ].color.setHex( 0x404040 );
						geometry.faces[ 5 ].color.setHex( 0x505050 );
						geometry.faces[ 6 ].color.setHex( 0x606060 );
						geometry.faces[ 7 ].color.setHex( 0x707070 );
						geometry.faces[ 8 ].color.setHex( 0x808080 );
						geometry.faces[ 9 ].color.setHex( 0x909090 );
						geometry.faces[ 10 ].color.setHex( 0xa0a0a0 );
						geometry.faces[ 11 ].color.setHex( 0xb0b0b0 );
						geometry.faces[ 0 ].color.setHex( 0xc0c0c0 );

					// for ( var b = 0; b < geometry.faces.length; b ++ ) {
						// if (b % 3 == 0) {
						// 	geometry.faces[ b ].color.setHex( 0xfb5857 );
						// } 
						// else {
						// 	geometry.faces[ b ].color.setHex( 0x2d2d2d );

						// }

					
					// }



					var material = new THREE.MeshBasicMaterial( { color: 0xffffff, vertexColors: THREE.FaceColors } );

					
					
					

					var mesh = new THREE.Mesh( geometry, material );

					mesh.material.needsUpdate = true;

					



					mesh.position.x = (u * 40) - 220 ;


					mesh.position.y = (i * 40) - 220 ;

					
					mesh.position.z = (d * 40) - 220 ;
					


					var pos_a = mesh.position.x;
					var pos_b = mesh.position.y; 
					var pos_c = mesh.position.z;

					// console.log(pos_a + "," + pos_b + "," + pos_c);





					mesh.rotation.x = u/30 * Math.PI;
					

					mesh.updateMatrix();
					mesh.matrixAutoUpdate = true;
					scene.add( mesh );

					camera.matrixAutoUpdate = true;





				}
			}
		}
	}

	window.addEventListener("click", scrollfunction);


					function scrollfunction() {

						scene.rotation.x += 0.1;
						scene.rotation.y += 0.1;
						scene.rotation.z += 0.1;

					}


	function animate() {
		requestAnimationFrame( animate );
				// controls.update(); 

				render();
			}

				// window.onscroll = function() {scrollfunction()};

				

				function render() {

					var timer = Date.now() * 0.001;

			//console.log(timer);

			scene.rotation.x += 0.001;
			scene.rotation.y += 0.001;
			scene.rotation.z += 0.001;

			for ( var k = 0, m = scene.children.length; k < m; k ++ ) {

				var object = scene.children[ k ];

					// console.log(k + " and " + m)

					object.rotation.x += 0.05;
					// object.rotation.y = timer * 25;

				}


				renderer.render( scene, camera );

			}



			</script>
		</body>
		</html>